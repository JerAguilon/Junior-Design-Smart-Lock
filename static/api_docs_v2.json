{"swagger": "2.0", "info": {"title": "Junior Design Smartlock", "version": "0.1", "description": "Auto-generated API documentation for this project"}, "host": "localhost:5000", "basePath": "/", "schemes": ["http"], "paths": {"/api/v1/admin/locks": {"post": {"produces": ["application/json"], "parameters": [{"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PostLocksArgs"}}], "responses": {"200": {"description": "A AdminLocksResponse object", "schema": {"$ref": "#/definitions/AdminLocksResponse"}}}, "tags": ["Admin"], "description": "Creates a lock given an admin id token", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/hardware/events": {"post": {"produces": ["application/json"], "parameters": [{"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PostHardwareEventArgs"}}], "responses": {"200": {"description": "No response was specified"}}, "tags": ["Hardware"], "description": "Adds a hardware event to the server. The event can be one of ['NONE', 'LOCK_METADATA_CHANGED', 'LOCK_STATE_CHANGED', 'PASSWORD_CREATED', 'PASSWORD_DELETED', 'PASSWORD_METADATA_CHANGED', 'USER_LOCK_ADDED', 'USER_LOCK_DELETED', 'HARDWARE_LOCK_OPENED', 'HARDWARE_LOCK_CLOSED', 'HARDWARE_SUCCEEDED_PASSWORD', 'HARDWARE_FAILED_PASSWORD'].", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/hardware/passwords": {"delete": {"produces": ["application/json"], "parameters": [{"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/DeleteHardwarePasswordsArgs"}}], "responses": {"200": {"description": "No response was specified"}}, "tags": ["Hardware"], "description": "Removes passwords given a list of valid password ids", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/hardware/status": {"get": {"produces": ["application/json"], "responses": {"200": {"description": "A UserLockStatusResponse object", "schema": {"$ref": "#/definitions/UserLockStatusResponse"}}}, "tags": ["Hardware"], "description": "Gets the lock status", "operationId": "nickname", "security": [{"Authorization": []}]}, "put": {"produces": ["application/json"], "parameters": [{"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PutHardwareLockStatusArgs"}}], "responses": {"200": {"description": "A UserLockStatusResponse object", "schema": {"$ref": "#/definitions/UserLockStatusResponse"}}}, "tags": ["Hardware"], "description": "Updates a lock status", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/hardware/sync": {"get": {"produces": ["application/json"], "responses": {"200": {"description": "A SyncLockPasswordsResponse object", "schema": {"$ref": "#/definitions/SyncLockPasswordsResponse"}}}, "tags": ["Hardware"], "description": "Syncs passwords locally", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/locks": {"get": {"produces": ["application/json"], "responses": {"200": {"description": "A UserLockResponse object", "schema": {"$ref": "#/definitions/UserLockResponse"}}}, "tags": ["Locks"], "description": "Returns a list of locks owned by a user", "operationId": "nickname", "security": [{"Authorization": []}]}, "post": {"produces": ["application/json"], "parameters": [{"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PostUserLockArgs"}}], "responses": {"200": {"description": "A UserLockResponse object", "schema": {"$ref": "#/definitions/UserLockResponse"}}}, "tags": ["Locks"], "description": "Adds a valid lock id to a user's account", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/locks/{lockId}": {"delete": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}], "responses": {"200": {"description": "A UserLockResponse object", "schema": {"$ref": "#/definitions/UserLockResponse"}}}, "tags": ["Locks"], "description": "Deletes a lock id associated with a user's account", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/locks/{lockId}/history": {"get": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}], "responses": {"200": {"description": "A LockHistoryResponse object", "schema": {"$ref": "#/definitions/LockHistoryResponse"}}}, "tags": ["History"], "description": "Resource that lets users retrieve events given a lock id. See `LockEvent` for the schema for each response. Note that status can be one of ['NONE', 'LOCK_METADATA_CHANGED', 'LOCK_STATE_CHANGED', 'PASSWORD_CREATED', 'PASSWORD_DELETED', 'PASSWORD_METADATA_CHANGED', 'USER_LOCK_ADDED', 'USER_LOCK_DELETED', 'HARDWARE_LOCK_OPENED', 'HARDWARE_LOCK_CLOSED', 'HARDWARE_SUCCEEDED_PASSWORD', 'HARDWARE_FAILED_PASSWORD'].", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/locks/{lockId}/passwords": {"get": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}], "responses": {"200": {"description": "A LockPasswordsResponse object", "schema": {"$ref": "#/definitions/LockPasswordsResponse"}}}, "tags": ["Password Management"], "description": "Gets metadata about a lock's passwords. Passwords are passed as arguments to change the status or sensitive metadata of a lock. In addition, the user needs to own the lock as well", "operationId": "nickname", "security": [{"Authorization": []}]}, "post": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}, {"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PostLockPasswordsArgs"}}], "responses": {"200": {"description": "A LockPasswordResponse object", "schema": {"$ref": "#/definitions/LockPasswordResponse"}}}, "tags": ["Password Management"], "description": "Adds a password to a lock. Passwords are passed as arguments to change the status or sensitive metadata of a lock. In addition, the user needs to own the lock as well", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/locks/{lockId}/passwords/{passwordId}": {"delete": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}, {"in": "path", "name": "passwordId", "required": true, "type": "string"}], "responses": {"200": {"description": "No response was specified"}}, "tags": ["Password Management"], "description": "Gets metadata on a lock password. Passwords are passed as arguments to change the status or sensitive metadata of a lock. In addition, the user needs to own the lock as well", "operationId": "nickname", "security": [{"Authorization": []}]}, "get": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}, {"in": "path", "name": "passwordId", "required": true, "type": "string"}], "responses": {"200": {"description": "A LockPasswordResponse object", "schema": {"$ref": "#/definitions/LockPasswordResponse"}}}, "tags": ["Password Management"], "description": "Gets metadata on a lock password. Passwords are passed as arguments to change the status or sensitive metadata of a lock. In addition, the user needs to own the lock as well", "operationId": "nickname", "security": [{"Authorization": []}]}, "put": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}, {"in": "path", "name": "passwordId", "required": true, "type": "string"}, {"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PutLockPasswordArgs"}}], "responses": {"200": {"description": "A LockPasswordResponse object", "schema": {"$ref": "#/definitions/LockPasswordResponse"}}}, "tags": ["Password Management"], "description": "Changes a password. Passwords are passed as arguments to change the status or sensitive metadata of a lock. In addition, the user needs to own the lock as well", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/locks/{lockId}/status": {"get": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}], "responses": {"200": {"description": "A UserLockStatusResponse object", "schema": {"$ref": "#/definitions/UserLockStatusResponse"}}}, "tags": ["Locks"], "description": "Gets the lock status of a user owned lock", "operationId": "nickname", "security": [{"Authorization": []}]}, "put": {"produces": ["application/json"], "parameters": [{"in": "path", "name": "lockId", "required": true, "type": "string"}, {"in": "body", "name": "body", "required": true, "schema": {"$ref": "#/definitions/PutLockStatusArgs"}}], "responses": {"200": {"description": "A PutUserLockStatusResponse object", "schema": {"$ref": "#/definitions/PutUserLockStatusResponse"}}}, "tags": ["Locks"], "description": "Updates a lock status. If an inputted password is removed (as with OTP passwords), then the JSON payload will contain inputedPasswordDisabled: true", "operationId": "nickname", "security": [{"Authorization": []}]}}, "/api/v1/user": {"get": {"produces": ["application/json"], "responses": {"200": {"description": "A UserResponse object", "schema": {"$ref": "#/definitions/UserResponse"}}}, "tags": ["Users"], "description": "Returns user information", "operationId": "nickname", "security": [{"Authorization": []}]}, "post": {"produces": ["application/json"], "responses": {"200": {"description": "A UserResponse object", "schema": {"$ref": "#/definitions/UserResponse"}}}, "tags": ["Users"], "description": "Returns user information", "operationId": "nickname", "security": [{"Authorization": []}]}}}, "definitions": {"AdminLocksResponse": {"properties": {"createdAt": {"type": "integer"}, "id": {"type": "string"}, "nickname": {"type": "string"}, "status": {"type": "string"}, "timezone": {"type": "string"}}, "required": ["id", "status", "nickname", "createdAt"]}, "DeleteHardwarePasswordsArgs": {"properties": {"passwordIds": {"items": {"type": "string"}, "type": "array"}}, "required": ["passwordIds"]}, "LockEvent": {"properties": {"createdAt": {"type": "integer"}, "endpoint": {"type": "string"}, "lockId": {"type": "string"}, "status": {"type": "string"}, "userId": {"type": "string"}}, "required": ["userId", "lockId", "endpoint", "status", "createdAt"]}, "LockHistoryResponse": {"properties": {"events": {"items": {}, "type": "array"}}, "required": ["events"]}, "LockPasswordResponse": {"properties": {"activeDays": {"items": {"type": "string"}, "type": "array"}, "activeTimes": {"items": {"type": "string"}, "type": "array"}, "createdAt": {"type": "integer"}, "expiration": {"type": "integer"}, "id": {"type": "string"}, "type": {"type": "string"}}, "required": ["id", "createdAt", "type"]}, "LockPasswordsResponse": {"properties": {"otp": {"items": {"$ref": "#definitions/LockPasswordResponse"}, "type": "array"}, "permanent": {"items": {"$ref": "#definitions/LockPasswordResponse"}, "type": "array"}}, "required": ["otp", "permanent"]}, "PostHardwareEventArgs": {"properties": {"createdAt": {"type": "integer"}, "event": {"type": "string"}}, "required": ["event"]}, "PostLockPasswordsArgs": {"properties": {"activeDays": {"items": {"type": "string"}, "type": "array"}, "activeTimes": {"items": {"type": "string"}, "type": "array"}, "expiration": {"type": "integer"}, "password": {"type": "string"}, "type": {"type": "string"}}, "required": ["type", "password"]}, "PostLocksArgs": {"properties": {"nickname": {"type": "string"}, "secret": {"type": "string"}, "timezone": {"type": "string"}}, "required": ["secret"]}, "PostUserLockArgs": {"properties": {"ownedLockIds": {"items": {"type": "string"}, "type": "array"}}, "required": ["ownedLockIds"]}, "PutHardwareLockStatusArgs": {"properties": {"status": {"type": "string"}}, "required": ["status"]}, "PutLockPasswordArgs": {"properties": {"activeDays": {"items": {"type": "string"}, "type": "array"}, "activeTimes": {"items": {"type": "string"}, "type": "array"}, "expiration": {"type": "integer"}, "password": {"type": "string"}}}, "PutLockStatusArgs": {"properties": {"password": {"type": "string"}, "status": {"type": "string"}}, "required": ["status"]}, "PutUserLockStatusResponse": {"properties": {"providedPasswordDisabled": {"type": "boolean"}, "status": {"type": "string"}}, "required": ["status", "providedPasswordDisabled"]}, "SyncLockPasswordResponse": {"properties": {"activeDays": {"items": {"type": "string"}, "type": "array"}, "activeTimes": {"items": {"type": "string"}, "type": "array"}, "createdAt": {"type": "integer"}, "expiration": {"type": "integer"}, "hashedPassword": {"type": "string"}, "id": {"type": "string"}, "type": {"type": "string"}}, "required": ["id", "createdAt", "type", "hashedPassword"]}, "SyncLockPasswordsResponse": {"properties": {"otp": {"items": {}, "type": "array"}, "permanent": {"items": {}, "type": "array"}}, "required": ["otp", "permanent"]}, "UserLockResponse": {"properties": {"ownedLockIds": {"items": {"type": "string"}, "type": "array"}}, "required": ["ownedLockIds"]}, "UserLockStatusResponse": {"properties": {"status": {"type": "string"}}, "required": ["status"]}, "UserResponse": {"properties": {"displayName": {"type": "string"}, "email": {"type": "string"}, "id": {"type": "string"}}, "required": ["id", "email", "displayName"]}}, "securityDefinitions": {"Authorization": {"type": "apiKey", "name": "Authorization", "in": "header"}}}